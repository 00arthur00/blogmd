---
title: golang 函数（不是方法）
date: 2018-07-30 23:20:50
tags: [golang, function]
category: [golang]
---
## 函数声明
函数声明包括函数名、形式参数列表、返回值列表（可省略）以及函数体。
```
func name(parameter-list) (result-list) {
    body
}
```
parameter->形参
argument->实参

如果一组形参或返回值有相同的类型，我们不必为每个形参都写出参数类型。下面2个声明是等价的：
```
func f(i, j, k int, s, t string)                 { /* ... */ }
func f(i int, j int, k int,  s string, t string) { /* ... */ }
```

函数的类型被称为函数的标识符。如果两个函数形式参数列表和返回值列表中的变量类型一一对应，那么这两个函数被认为有相同的类型和标识符.

**在函数调用时，Go语言没有默认参数值，也没有任何方法可以通过参数名指定形参，**因此形参和返回值的变量名对于函数调用者而言没有意义。

实参通过值的方式传递，因此函数的形参是实参的拷贝。对形参进行修改不会影响实参。但是，如果实参包括引用类型，如指针，slice(切片)、map、function、channel等类型，实参可能会由于函数的间接引用被修改。

你可能会偶尔遇到没有函数体的函数声明，这表示该函数不是以Go实现的。这样的声明定义了函数标识符。
```
package math
func Sin(x float64) float //implemented in assembly language
```

## 递归
* 函数可以是递归的，这意味着函数可以直接或间接的调用自身。对许多问题而言，递归是一种强有力的技术，例如处理递归的数据结构。
* 大部分编程语言使用固定大小的函数调用栈，常见的大小从64KB到2MB不等。固定大小栈会限制递归的深度，当你用递归处理大量数据时，需要避免栈溢出；除此之外，还会导致安全性问题。与相反,**Go语言使用可变栈，栈的大小按需增加(初始时很小)。这使得我们使用递归时不必考虑溢出和安全问题。**

## 多返回值
在Go中，一个函数可以返回多个值。我们已经在之前例子中看到，许多标准库中的函数返回2个值，一个是期望得到的返回值，另一个是函数出错时的错误信息。
* 准确的变量名可以传达函数返回值的含义。
* 虽然良好的命名很重要，但你也不必为每一个返回值都取一个适当的名字。比如，**按照惯例，函数的最后一个bool类型的返回值表示函数是否运行成功，error类型的返回值代表函数的错误信息**，对于这些类似的惯例，我们不必思考合适的命名，它们都无需解释。
* 如果一个函数将所有的返回值都显示的变量名，那么该函数的return语句可以省略操作数。这称之为bare return。