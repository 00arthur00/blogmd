title: 概览-组件
tags:
  - m3db
  - 时间序列数据库
categories: []
date: 2019-05-16 11:24:00
---
## M3协调器

M3 Coordinator是一种服务，用于协调上游系统（如Prometheus和M3DB）之间的读写操作。 它是用户可以部署以访问M3DB的优势的桥梁，例如长期存储和与其他监控系统（如Prometheus）的多DC设置。 有关Prometheus长期存储的更多信息，请参阅[此演示文稿](https://schd.ws/hosted_files/cloudnativeeu2017/73/Integrating%20Long-Term%20Storage%20with%20Prometheus%20-%20CloudNativeCon%20Berlin%2C%20March%2030%2C%202017.pdf)。 

## M3DB

M3DB是一个分布式时间序列数据库，提供可扩展存储和时间序列的倒排索引。它经过优化，具有成本效益和可靠的实时和长期保留指标存储和索引。有关更多详细信息，请参阅[M3DB文档](https://m3db.github.io/m3db/)。

## M3 Query
M3 Query是一种服务，它包含一个分布式查询引擎，用于查询实时和历史指标，支持多种不同的查询语言。 它旨在支持低延迟实时查询和可能需要更长时间执行的查询，聚合更大的数据集，以用于分析用例。 有关更多详细信息，请参阅[查询引擎文档](https://m3db.github.io/query_engine/)。

## M3聚合器

M3 Aggregator是一种作为专用度量聚合器运行的服务，它基于存储在etcd中的动态规则提供基于流的降采样。 它使用领导者选举和聚合窗口跟踪，利用etcd来管理这种状态，从而可靠地发出至少一次的聚合，以便将降采样的指标用于长期存储。 这提供了成本有效且可靠的降采样和汇总指标。 这些功能也存在于M3协调器中，但是专用聚合器是分片和复制的，而M3协调器则不需要谨慎部署和以高可用性方式运行。 还有一些工作要使用户更容易访问聚合器，而无需他们编写自己的兼容生产者和消费者。